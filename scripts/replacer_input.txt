=== PROCESSED: 2025-06-23 13:34:22 ===
SUCCESS Block 1: Updated /Users/stuart/repos/csl-parser/csl-parser/main/core/src/parser.ts
===

Looking at the test output, I can see that the SEARCH operation is not properly collecting content. The parser is creating empty strings for `pattern` and `replacement` instead of collecting the content between markers.

The issue is in the parser implementation - it's not properly handling content collection for SEARCH operations. Let me fix this:

<<<EXPLANATION>>>
The parser needs to properly collect content for SEARCH operations based on the current state. When in SEARCH_PATTERN state, content should go to searchPattern buffer. When in SEARCH_TO state, content should go to searchTo buffer. When in SEARCH_REPLACEMENT state, content should go to searchReplacement buffer.
<<<END>>>

<<<FILE>>>
csl-parser/main/core/src/parser.ts
<<<SEARCH>>>
    else {
      // Content line
      if (state && currentOp) {
        contentBuffer.push(line);
      }
    }
<<<REPLACE>>>
    else {
      // Content line
      if (state && currentOp) {
        if (state === 'SEARCH_PATTERN') {
          searchPattern.push(line);
        } else if (state === 'SEARCH_TO') {
          searchTo.push(line);
        } else if (state === 'SEARCH_REPLACEMENT') {
          searchReplacement.push(line);
        } else {
          contentBuffer.push(line);
        }
      }
    }
<<<END>>>

Now let's run the test again to see if this fixes the issue.